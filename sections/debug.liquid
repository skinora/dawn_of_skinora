<section style="padding:40px;border:5px solid red;background:#111;color:#0f0;">
  <h1>DEBUG – WHY CHOOSE</h1>

  <h2>1. Product context</h2>
  <pre>product.id: {{ product.id }}</pre>
  <pre>product.handle: {{ product.handle }}</pre>
  <pre>product.template_suffix: {{ product.template_suffix }}</pre>

  <h2>2. All product metafields</h2>
  <pre>{{ product.metafields | json }}</pre>

  <h2>3. Custom namespace</h2>
  <pre>{{ product.metafields.custom | json }}</pre>

  <h2>4. why_choose_reference (raw)</h2>
  <pre>{{ product.metafields.custom.why_choose_reference | json }}</pre>

  <h2>5. why_choose_reference.value</h2>
  <pre>{{ product.metafields.custom.why_choose_reference.value | json }}</pre>

  {% if product.metafields.custom.why_choose_reference.value != blank %}
    {% assign entry = product.metafields.custom.why_choose_reference.value %}

    <h2>6. Entry fields</h2>
    <pre>heading: {{ entry.heading | json }}</pre>
    <pre>subheading: {{ entry.subheading | json }}</pre>
    <pre>image: {{ entry.image | json }}</pre>
    <pre>points: {{ entry.points | json }}</pre>
    <pre>points.value: {{ entry.points.value | json }}</pre>

    {% if entry.points.value != blank %}
      <h2>7. Loop test</h2>
      {% for p in entry.points.value %}
        <pre>
POINT:
question = {{ p.question.value }}
point    = {{ p.point.value }}
        </pre>
      {% endfor %}
    {% endif %}
  {% endif %}
</section>

{% schema %}
{
  "name": "DEBUG – Why Choose",
  "templates": ["product"],
  "presets": [
    {
      "name": "DEBUG – Why Choose"
    }
  ]
}
{% endschema %}
