<style>
  /* === SECTION WRAPPER === */
  .sk-wavelengths {
    --sk-color-brand: #30273e;
    --sk-color-neutral: #6c6c6c;
    --sk-color-border: #e6e6e6;
    --sk-color-body: #333333;
    --sk-color-tag-text: #ffffff;
    padding: 4rem 0 6rem;
  }

  .sk-header__section {
    text-align: center;
    margin-bottom: 3rem;
  }

  .sk-wavelengths__eyebrow {
    margin: 0 0 0.5rem;
    font-size: 12px;
    letter-spacing: 1px;
    text-transform: uppercase;
    color: var(--sk-color-neutral);
    font-weight: 500;
    text-align: center;
  }

  /* === GRID === */
  .sk-wavelengths__grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 48px;
    max-width: 1800px;
    margin: 0 auto;
    padding: 0 24px;
  }

  /* === CARD === */
  .sk-wavelength {
    background: #fff;
    border-radius: 8px;
    border: 1px solid var(--sk-color-border);
    padding: 32px;
    text-align: center;
    position: relative;
  }

  .sk-wavelength__visual {
    width: 100%;
    max-width: 550px;
    margin: 0 auto 16px;
    aspect-ratio: 1 / 0.75;
  }

  .sk-wavelength__visual img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    border-radius: 8px;
    display: block;
  }

  .sk-tag {
    position: absolute;
    top: -16px;
    left: 50%;
    transform: translateX(-50%);
    padding: 4px 10px;
    background: var(--sk-color-brand);
    color: #fff;
    border-radius: 4px;
    font-size: 12px;
    letter-spacing: 1px;
    white-space: nowrap;
    text-transform: uppercase;
  }

  .sk-wavelength__eyebrow {
    font-size: 12px;
    text-transform: uppercase;
    color: var(--sk-color-neutral);
    margin-bottom: 8px;
  }

  .sk-wavelength__title {
    font-size: 22px;
    font-weight: 600;
    color: var(--sk-color-brand);
    margin-bottom: 12px;
  }

  .sk-wavelength__benefits {
    list-style: none;
    padding: 0;
    margin: 0;
    text-align: left;
    max-width: 500px;
    margin: 0 auto;
  }

  .sk-wavelength__benefits li {
    font-size: 16px;
    margin-bottom: 8px;
    display: flex;
    gap: 6px;
  }

  .sk-wavelength__benefits li::before {
    content: '';
    width: 6px;
    height: 6px;
    background: var(--sk-color-brand);
    border-radius: 50%;
    margin-top: 6px;
  }

  /* MOBILE */
  @media (max-width: 750px) {
    .sk-wavelengths__grid {
      display: none;
    }
    .sk-wavelengths__slider {
      display: block;
    }
  }
</style>

<section class="sk-wavelengths">
  <div class="page-width">
    {% if section.settings.sk_led_light_work_eyebrow %}
      <p class="sk-wavelengths__eyebrow">{{ section.settings.sk_led_light_work_eyebrow }}</p>
    {% endif %}

    {% if section.settings.sk_led_light_work_heading %}
      <h1 class="sk-header__section">{{ section.settings.sk_led_light_work_heading }}</h1>
    {% endif %}

    {%- comment -%}
      READ METAOBJECT LIST FROM:
      custom.led_light_work_cards
    {%- endcomment -%}

    {% assign cards = product.metafields.custom.led_light_work_cards.value %}
    {% assign count = cards | size %}

    {% if count == 0 %}
      {% if request.design_mode %}
        <p class="sk-wavelengths__empty">
          Metafeltet <code>custom.led_light_work_cards</code> er tomt. Legg til metaobjekter (type
          <strong>SK_LED_LIGHT_WORK-CARD</strong>) på produktet.
        </p>
      {% endif %}
    {% else %}
      <!-- ===== DESKTOP GRID ===== -->
      <div class="sk-wavelengths__grid">
        {% for card in cards %}
          {% assign img = card.image %}

          <div class="sk-wavelength">
            {% if card.show_highlight_text %}
              <span class="sk-tag">
                {{ card.highlight_tag_text | default: 'NY DYPTVIRKENDE BØLGELENGDE' }}
              </span>
            {% endif %}

            {% if img %}
              <div class="sk-wavelength__visual">
                <img
                  src="{{ img | image_url: width: 1000 }}"
                  alt="{{ card.title | escape }}"
                  width="{{ img.width }}"
                  height="{{ img.height }}"
                  loading="lazy"
                >
              </div>
            {% endif %}

            {% if card.eyebrow %}
              <p class="sk-wavelength__eyebrow">{{ card.eyebrow }}</p>
            {% endif %}

            {% if card.title %}
              <h3 class="sk-wavelength__title">{{ card.title }}</h3>
            {% endif %}

            {% if card.benefits %}
              <ul class="sk-wavelength__benefits">
                {% assign lines = card.benefits | newline_to_br | split: '<br />' %}
                {% for line in lines %}
                  {% if line != '' %}
                    <li>{{ line }}</li>
                  {% endif %}
                {% endfor %}
              </ul>
            {% endif %}
          </div>
        {% endfor %}
      </div>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "SK Led Light Work",
  "settings": [
    {
      "type": "text",
      "id": "sk_led_light_work_eyebrow",
      "label": "Eyebrow label",
      "default": "VITENSKAPEN BAK SKINORA LED"
    },
    {
      "type": "text",
      "id": "sk_led_light_work_heading",
      "label": "Title",
      "default": "Hvordan Fungerer Skinora LED Lys"
    }
  ],
  "presets": [{ "name": "SK Led Light Work" }]
}
{% endschema %}
