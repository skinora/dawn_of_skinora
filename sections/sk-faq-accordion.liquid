<style>
  .sk-faq-accordion {
    background: var(--color-white);
    color: var(--color-neutral-3);
    padding: 0 0 4rem;
    margin-top: 0;
    margin-bottom: 0;
  }

  .sk-faq-accordion__container {
    max-width: 900px;
    margin: 0 auto;
    padding: 0 1rem;
  }

  .sk-faq-accordion__content {
    width: 100%;
  }

  .sk-faq-accordion__accordion {
    border: none;
  }

  .sk-faq-accordion__item {
    border-bottom: 1px solid var(--color-border);
    margin-bottom: 0;
    background: transparent;
    border: none;
    border-radius: 0;
  }

  .sk-faq-accordion__item:last-child {
    border-bottom: none;
  }

  .sk-faq-accordion__header {
    padding: 0;
    margin: 0;
    background: transparent;
    border: none;
  }

  .sk-faq-accordion__button {
    display: flex;
    align-items: start;
    justify-content: space-between;
    width: 100%;
    padding: 25px 0;
    background: transparent;
    border: none;
    font-size: var(--sk-font-size-medium);
    font-weight: 400;
    color: var(--color-neutral-3);
    line-height: 1.4;
    text-align: left;
    cursor: pointer;
    outline: none;
    box-shadow: none;
    border-bottom: 1px solid rgba(var(--color-foreground), 0.2);
  }

  .sk-faq-accordion__button:hover,
  .sk-faq-accordion__button:focus {
    background: transparent;
    color: var(--color-neutral-3);
    box-shadow: none;
    /* border: none; */
  }

  .sk-faq-accordion__question {
    flex: 1;
    margin: 0;
    padding-right: 20px;
  }

  .sk-faq-accordion__icon {
    --sk-faq-icon-size: 34px;
    flex-shrink: 0;
    width: var(--sk-faq-icon-size);
    height: var(--sk-faq-icon-size);
    min-width: var(--sk-faq-icon-size);
    min-height: var(--sk-faq-icon-size);
    display: inline-flex !important;
    align-items: center;
    justify-content: center;
    position: relative;
    margin-top: 6px;
    pointer-events: none;
    font-size: calc(var(--sk-faq-icon-size) * 0.8);
    font-weight: 400;
    line-height: 1;
    color: var(--color-neutral-4);
  }

  .sk-faq-accordion__icon::before {
    content: '+';
    transition: transform 0.3s ease, opacity 0.3s ease;
  }

  .sk-faq-accordion__button[aria-expanded='true'] .sk-faq-accordion__icon::before {
    content: '−';
  }

  .sk-faq-accordion__icon-placeholder {
    width: 0;
    height: 0;
    overflow: hidden;
    display: inline-block;
  }

  .sk-faq-accordion__collapse {
    border: none;
    background: transparent;
  }

  .sk-faq-accordion__body {
    padding: 0 0 25px;
    background: transparent;
    border: none;
  }

  .sk-faq-accordion__answer {
    font-size: var(--sk-font-size-medium);
    line-height: 1.6;
    color: var(--color-neutral-3);
    margin: 0;
  }

  /* Mobile Responsive */

  .sk-faq-accordion .accordion-button::after {
    background-image: none !important;
  }

  .accordion-button:not(.collapsed) {
    color: var(--color-neutral-3) !important;
    background-color: transparent !important;
    box-shadow: none !important;
    border: none !important;
  }

  .sk-faq-read-more-btn .sk-btn {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-top: 30px;
    width: 18rem;
    padding: 13px;
  }

  @media only screen and (max-width: 700px) {
    .sk-faq-accordion__image {
      flex: 0 0 100%;
    }
    .sk-faq-accordion__content {
      flex: 0 0 100%;
    }
  }

  @media only screen and (max-width: 435px) {
    .sk-faq-accordion__image {
      flex: 0 0 80%;
      margin: auto;
    }

    .sk-faq-accordion__button {
      font-size: var(--sk-font-size-xxs);
      line-height: 20px !important;
    }

    .sk-faq-accordion__answer p {
      font-size: var(--sk-font-size-xxs);
      line-height: 20px;
    }

    .sk-faq-read-more-btn .sk-btn {
      width: 12rem;
    }
  }
  @media screen and (max-width: 749px) {
    .sk-section-heading {
      font-size: var(--sk-mobile-heading-size);
      line-height: var(--sk-mobile-heading-line);
    }
    .sk-section-body {
      font-size: var(--sk-mobile-body-size);
      line-height: var(--sk-mobile-body-line);
    }
  }
</style>

<section class="sk-faq-accordion">
  <div class="page-width">
    <div class="sk-faq-accordion__container">
      {% if section.settings.faq_image != blank %}
        <div class="sk-faq-accordion__image">
          <img
            src="{{ section.settings.faq_image | image_url: width: 500, height: 600 }}"
            alt="{{ section.settings.faq_image.alt | default: section.settings.title }}"
            width="500"
            height="600"
            loading="lazy"
          >
        </div>
      {% endif %}

      <div class="sk-faq-accordion__content">
        {% if section.settings.title != blank %}
          <h1 class="sk-header__section sk-faq-accordion__title sk-section-heading sk-section-heading--h1">
            {{ section.settings.title }}
          </h1>
        {% endif %}

        <div class="sk-faq-accordion__questions">
          <div class="accordion sk-faq-accordion__accordion" id="faqAccordion-{{ section.id }}">
            {% for block in section.blocks %}
              {% case block.type %}
                {% when 'faq_item' %}
                  <div class="accordion-item sk-faq-accordion__item" {{ block.shopify_attributes }}>
                    <h3 class="accordion-header sk-faq-accordion__header" id="heading-{{ block.id }}-{{ section.id }}">
                      <button
                        class="accordion-button sk-faq-accordion__button collapsed"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#collapse-{{ block.id }}-{{ section.id }}"
                        aria-expanded="{% if section.settings.open_first_item and forloop.first %}true{% else %}false{% endif %}"
                        aria-controls="collapse-{{ block.id }}-{{ section.id }}"
                      >
                        <span class="sk-faq-accordion__question">{{ block.settings.question }}</span>
                        <div class="sk-faq-accordion__icon" aria-hidden="true">
                          <span class="sk-faq-accordion__icon-placeholder"></span>
                        </div>
                      </button>
                    </h3>
                    <div
                      id="collapse-{{ block.id }}-{{ section.id }}"
                      class="accordion-collapse collapse sk-faq-accordion__collapse {% if section.settings.open_first_item and forloop.first %}show{% endif %}"
                      aria-labelledby="heading-{{ block.id }}-{{ section.id }}"
                      data-bs-parent="#faqAccordion-{{ section.id }}"
                    >
                      <div class="accordion-body sk-faq-accordion__body">
                        <div class="sk-faq-accordion__answer sk-section-body">
                          {{ block.settings.answer }}
                        </div>
                      </div>
                    </div>
                  </div>
              {% endcase %}
            {% endfor %}
          </div>
        </div>
        <div class="sk-faq-read-more-btn">
          <a href="{{ section.settings.faq_link }}" class="sk-btn sk-btn--secondary">
            Les mer
            <span class="svg-wrapper sk-btn__icon">
              {{- 'arrow-right.svg' | inline_asset_content -}}
            </span>
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "SK FAQ Accordion",
  "settings": [
    {
      "type": "checkbox",
      "id": "open_first_item",
      "label": "Open first FAQ item by default",
      "default": false
    },
    {
      "type": "url",
      "id": "faq_link",
      "label": "FAQ Link"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#3a3052"
    },
    {
      "type": "header",
      "content": "Section Padding"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 120,
      "step": 4,
      "unit": "px",
      "label": "Top padding",
      "default": 80
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 120,
      "step": 4,
      "unit": "px",
      "label": "Bottom padding",
      "default": 80
    }
  ],
  "blocks": [
    {
      "type": "faq_item",
      "name": "FAQ Item",
      "settings": [
        {
          "type": "text",
          "id": "question",
          "label": "Question",
          "default": "Hvor ofte og hvor lenge bør jeg bruke led-masken for å se synlige resultater?"
        },
        {
          "type": "richtext",
          "id": "answer",
          "label": "Answer",
          "default": "<p>Vi anbefaler å bruke masken 3-5 ganger per uke i 10-20 minutter per gang. Mange opplever at huden får mer glød etter bare noen få behandlinger, mens reduksjon av fine linjer og jevnere hudtone vanligvis blir synlig etter 4-6 uker med regelmessig bruk.</p>"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "SK FAQ Accordion",
      "blocks": [
        {
          "type": "faq_item",
          "settings": {
            "question": "Hvor ofte og hvor lenge bør jeg bruke led-masken for å se synlige resultater?",
            "answer": "<p>Vi anbefaler å bruke masken 3-5 ganger per uke i 10-20 minutter per gang. Mange opplever at huden får mer glød etter bare noen få behandlinger, mens reduksjon av fine linjer og jevnere hudtone vanligvis blir synlig etter 4-6 uker med regelmessig bruk.</p>"
          }
        },
        {
          "type": "faq_item",
          "settings": {
            "question": "Hvilke typer lysbølgelengder bruker masken, og hvilke hudproblemer retter de seg mot?",
            "answer": "<p>Masken bruker tre forskjellige lysbølgelengder: 415nm blått lys for akne-bakterier, 650nm rødt lys for inflammasjon og kollagenproduksjon, og 850nm nær-infrarødt lys for dyp vevsreparasjon og forbedret sirkulasjon.</p>"
          }
        },
        {
          "type": "faq_item",
          "settings": {
            "question": "Er det trygt å bruke led-masken hvis jeg er gravid, ammer eller bruker bestemte medisiner?",
            "answer": "<p>LED-lysbehandling regnes generelt som trygt, men vi anbefaler alltid å konsultere med lege før bruk hvis du er gravid, ammer, eller bruker fotosensibiliserende medisiner som enkelte antibiotika eller retinoidbehandlinger.</p>"
          }
        },
        {
          "type": "faq_item",
          "settings": {
            "question": "Hvordan rengjør og vedlikeholder jeg masken for best hygiene og holdbarhet?",
            "answer": "<p>Rengjør masken forsiktig med en fuktig klut og mildt såpevann etter hver bruk. Unngå å dyppe masken i vann. La den tørke helt før oppbevaring i det medfølgende etuiet. Sjekk jevnlig at alle LED-lys fungerer optimalt.</p>"
          }
        },
        {
          "type": "faq_item",
          "settings": {
            "question": "Kan jeg bruke masken etter kosmetiske behandlinger som botox eller fillere?",
            "answer": "<p>Vent minst 2 uker etter injeksjonsbehandlinger som botox eller fillere før du bruker LED-masken. Dette gir huden tid til å hele og reduserer risikoen for komplikasjoner. Konsulter alltid med din kosmetiske behandler først.</p>"
          }
        },
        {
          "type": "faq_item",
          "settings": {
            "question": "Hvilke sikkerhetsfunksjoner har masken (f.eks. øyebeskyttelse, justerbar passform)?",
            "answer": "<p>Masken har innebygd øyebeskyttelse og automatisk avslåing etter 20 minutter. Den har justerbare stropper for komfortabel passform og er laget av hudvennlige materialer som er testet for sikkerhet og komfort.</p>"
          }
        },
        {
          "type": "faq_item",
          "settings": {
            "question": "Hvem bør unngå å bruke led-masken (f.eks. visse medisinske tilstander, lysfølsomhet)?",
            "answer": "<p>Personer med epilepsi, alvorlige øyesykdommer, hudkreft i ansiktet, eller de som bruker sterke fotosensibiliserende medisiner bør unngå LED-behandling. Konsulter alltid med helsepersonell hvis du er usikker på om behandlingen er egnet for deg.</p>"
          }
        }
      ]
    }
  ]
}
{% endschema %}
