{% comment %}theme-check-disable ImgLazyLoading{% endcomment %}
{{ 'component-collection-hero.css' | asset_url | stylesheet_tag }}

{%- style -%}
  .collection-hero.section-{{ section.id }} {
    --sk-collection-header-max: {{ section.settings.header_max_width }}px;
    --sk-collection-text-align: {{ section.settings.header_align }};
  }

  .collection-hero.section-{{ section.id }} .collection-hero__inner {
    padding-top: 40px;
    padding-bottom: 40px;
  }

  .collection-hero.section-{{ section.id }} .collection-hero__text-wrapper {
    max-width: var(--sk-collection-header-max);
    margin-inline: auto;
    text-align: var(--sk-collection-text-align);
    padding: 0;
  }

  .collection-hero.section-{{ section.id }} .collection-hero__title {
    margin: 0;
  }

  .collection-hero.section-{{ section.id }} .sk-collection-hero__subheading {
    margin: 12px 0 0;
    font-size: 18px;
    line-height: 28px;
    font-weight: 300;
    color: rgba(var(--color-foreground), 0.72);
  }

  .collection-hero.section-{{ section.id }} .sk-collection-hero__divider {
    height: 1px;
    background: var(--color-border-light);
    margin-top: 32px;
    width: 100%;
    display: block;
    align-self: stretch;
  }

  .collection-hero.section-{{ section.id }} .sk-collection-hero__description {
    margin-top: 24px;
  }

  .collection-hero.section-{{ section.id }} .sk-collection-hero__divider + .sk-collection-hero__description {
    margin-top: 20px;
  }

  @media screen and (max-width: 749px) {
    .collection-hero.section-{{ section.id }} .collection-hero__inner {
      padding-top: 28px;
      padding-bottom: 28px;
    }

    .collection-hero.section-{{ section.id }} .sk-collection-hero__description {
      margin-top: 20px;
    }
  }
{%- endstyle -%}

{%- assign hero_title = section.settings.heading_override | default: collection.title -%}
{%- assign subheading_plain = section.settings.subheading | strip_html | strip -%}

<div class="collection-hero section-{{ section.id }} color-{{ section.settings.color_scheme }} gradient">
  <div class="collection-hero__inner container {% if settings.animations_reveal_on_scroll %} scroll-trigger animate--fade-in{% endif %}">
    <div class="collection-hero__text-wrapper">
      <h1 class="collection-hero__title">
        <span class="visually-hidden">{{ 'sections.collection_template.title' | t }}: </span>
        {{- hero_title | escape -}}
      </h1>

      {%- if subheading_plain != blank -%}
        <p class="sk-collection-hero__subheading">{{ section.settings.subheading }}</p>
      {%- endif -%}
    </div>

    {%- if section.settings.show_divider -%}
      <div class="sk-collection-hero__divider" aria-hidden="true"></div>
    {%- endif -%}

    {%- if section.settings.show_collection_description -%}
      <div class="sk-collection-hero__description">
        <div class="collection-hero__description rte">{{ collection.description }}</div>
      </div>
    {%- endif -%}
  </div>
</div>

{% schema %}
{
  "name": "t:sections.main-collection-banner.name",
  "class": "section",
  "settings": [
    {
      "type": "paragraph",
      "content": "t:sections.main-collection-banner.settings.paragraph.content"
    },
    {
      "type": "text",
      "id": "heading_override",
      "label": "Heading override",
      "info": "Optional. If blank, uses collection title."
    },
    {
      "type": "inline_richtext",
      "id": "subheading",
      "label": "Subheading"
    },
    {
      "type": "checkbox",
      "id": "show_divider",
      "label": "Show divider",
      "default": true
    },
    {
      "type": "range",
      "id": "header_max_width",
      "min": 480,
      "max": 960,
      "step": 16,
      "unit": "px",
      "label": "Header max width",
      "default": 720
    },
    {
      "type": "select",
      "id": "header_align",
      "label": "Header alignment",
      "default": "center",
      "options": [
        { "value": "center", "label": "Center" },
        { "value": "left", "label": "Left" }
      ]
    },
    {
      "type": "checkbox",
      "id": "show_collection_description",
      "default": true,
      "label": "t:sections.main-collection-banner.settings.show_collection_description.label"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.all.colors.label",
      "default": "scheme-1"
    }
  ]
}
{% endschema %}
