{{ 'component-image-with-text.css' | asset_url | stylesheet_tag }}

<style>
  .sk-product-radiance-{{ section.id }} {
    background: #ffffff;
    padding: 7rem 0;
  }
  .sk-product-radiance-{{ section.id }} .sk-radiance__container {
    display: flex;
    align-items: start;
    gap: 7rem;
    flex-wrap: wrap;
  }

  .sk-product-radiance__heading {
    margin: 0 0 32px;
  }

  .sk-product-radiance-{{ section.id }} .sk-radiance__image {
    flex: 0 0 600px;
  }
  .sk-product-radiance-{{ section.id }} .sk-image-content__content {
    flex: 0 0 550px;
  }

  .sk-product-radiance-{{ section.id }} .sk-image-content__bullet-list {
    list-style: none;
    padding: 0;
    margin-bottom: 20px;
  }
  .sk-product-radiance-{{ section.id }} .sk-image-content__bullet-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
    font-weight: 500;
  }

  .sk-product-radiance-{{ section.id }} .sk-image-content__button {
    margin-top: 3rem;
  }

  @media only screen and (max-width: 700px) {
    .sk-product-radiance-{{ section.id }} .sk-radiance__image {
      flex: 0 0 100%;
    }
    .sk-product-radiance-{{ section.id }} .sk-image-content__content {
      flex: 0 0 100%;
    }

    .sk-product-radiance-{{ section.id }} .sk-btn {
      width: 30rem;
    }

    .sk-radiance__image img{
      width: 100%;
      height: auto;
    }
    .sk-product-radiance-{{ section.id }} {
       padding-top: 0;
    }
  }

  @media only screen and (max-width: 435px) {
    .sk-product-radiance-{{ section.id }} .sk-image-content__button .sk-btn {
      width: 20rem;
    }
  }
  @media screen and (max-width: 749px) {
    .sk-section-heading {
      font-size: var(--sk-mobile-heading-size);
      line-height: var(--sk-mobile-heading-line);
    }
    .sk-section-body {
      font-size: var(--sk-mobile-body-size);
      line-height: var(--sk-mobile-body-line);
    }
  }
</style>

{%- if product.metafields.custom.radiance_content != blank or product.metafields.custom.radiance_image != blank -%}
  <section class="sk-product-radiance-{{ section.id }}">
    <div class="page-width">
      {% assign has_header = false %}
      {% if section.settings.heading != blank %}
        {% assign has_header = true %}
      {% endif %}
      {% if section.settings.subheading != blank %}
        {% assign has_header = true %}
      {% endif %}

      {% if has_header %}
        <div class="sk-section-header sk-section-header--left">
          {% if section.settings.heading != blank %}
            <h1 class="sk-header__section sk-product-radiance__heading sk-section-heading sk-section-heading--h1">
              {{ section.settings.heading | escape }}
            </h1>
          {% endif %}
          {% if section.settings.subheading != blank %}
            <p class="sk-section-header__subtitle sk-heading-text--soft">
              {{ section.settings.subheading | escape }}
            </p>
          {% endif %}
        </div>
      {% endif %}
      <div class="sk-image-content{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}">
        <div class="sk-radiance__container">
          <!-- Image Section -->
          <div class="sk-radiance__image">
            {%- if product.metafields.custom.radiance_image != blank -%}
              <img
                src="{{ product.metafields.custom.radiance_image | image_url: width: 577, height: 640 }}"
                alt="{{ product.metafields.custom.radiance_image.alt | default: product.title }}"
                width="577"
                height="640"
                loading="lazy"
              >
            {%- else -%}
              {{ 'detailed-apparel-1' | placeholder_svg_tag: 'placeholder-svg' }}
            {%- endif -%}
          </div>

          <!-- Content Section -->
          <div class="sk-image-content__content">
            {%- if product.metafields.custom.radiance_content != blank -%}
              {%- assign check_icon = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none"><path d="M17 3.61321C15.5291 2.76236 13.8214 2.27539 12 2.27539C6.47715 2.27539 2 6.75254 2 12.2754C2 17.7982 6.47715 22.2754 12 22.2754C17.5228 22.2754 22 17.7982 22 12.2754C22 11.5905 21.9311 10.9216 21.8 10.2754" stroke="#30273E" stroke-width="1.5" stroke-linecap="round"/><path d="M8 12.7754C8 12.7754 9.5 12.7754 11.5 16.2754C11.5 16.2754 17.0588 7.10872 22 5.27539" stroke="#30273E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>' -%}
              {%- capture radiance_content -%}
                {{ product.metafields.custom.radiance_content | metafield_tag }}
              {%- endcapture -%}
              <div class="sk-section-body">
                {{ radiance_content | replace: '~', check_icon }}
              </div>
            {%- endif -%}

            {%- if section.settings.button_text != blank -%}
              <div class="sk-image-content__button">
                <a
                  href="{% if section.settings.button_url != blank %}{{ section.settings.button_url }}{% else %}#{% endif %}"
                  class="sk-btn sk-btn--primary"
                >
                  {{ section.settings.button_text }}
                </a>
              </div>
            {%- endif -%}
          </div>
        </div>
      </div>
    </div>
  </section>
{%- endif -%}

{% schema %}
{
  "name": "SK Product Radiance",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "Product-Specific Control"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Section heading"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Section subheading",
      "info": "Optional copy below the heading"
    },
    {
      "type": "paragraph",
      "content": "This section displays content from product metafields. Add these 2 metafields:"
    },
    {
      "type": "paragraph",
      "content": "1. 'custom.radiance_image' (File) - Upload the main image"
    },
    {
      "type": "paragraph",
      "content": "2. 'custom.radiance_content' (Rich text) - Use rich text editor to format your content with heading, bullet list, and description. Use ~ for checkmark bullets."
    },
    {
      "type": "header",
      "content": "Button Settings"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "Kj√∏p Skinora Radiance"
    },
    {
      "type": "url",
      "id": "button_url",
      "label": "Button URL"
    }
  ],
  "presets": [
    {
      "name": "SK Product Radiance"
    }
  ]
}
{% endschema %}
