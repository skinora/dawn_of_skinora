{{ 'component-image-with-text.css' | asset_url | stylesheet_tag }}

<style>
  .sk-product-why-choose-{{ section.id }} {
    background: transparent;
    padding: clamp(3rem, 4vw, 5rem) 0;
  }

  .sk-product-why-choose-{{ section.id }} .sk-product-why-choose__points {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 1.5rem;
    margin-bottom: clamp(1.5rem, 3vw, 3rem);
  }

  .sk-product-why-choose-{{ section.id }} .sk-why-choose__point {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .sk-product-why-choose-{{ section.id }} .sk-why-choose__point-number {
    font-size: clamp(2.2rem, 3vw, 3rem);
    line-height: 1;
    font-weight: 700;
  }

  .sk-product-why-choose-{{ section.id }} .sk-why-choose__layout {
    display: grid;
    grid-template-columns: minmax(0, var(--pwc-image-width, 45%)) minmax(0, var(--pwc-text-width, 45%));
    column-gap: var(--pwc-gap, 10%);
    align-items: center;
    gap: clamp(1rem, 3vw, 2rem);
  }

  .sk-product-why-choose-{{ section.id }} .sk-why-choose__image img {
    width: 100%;
    height: auto;
    display: block;
  }

  @media (max-width: 900px) {
    .sk-product-why-choose-{{ section.id }} .sk-why-choose__layout {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 749px) {
    .sk-product-why-choose-{{ section.id }} {
      padding: clamp(2rem, 4vw, 3rem) 0;
    }
  }
</style>

{% liquid
  assign entry = product.metafields.custom.why_choose_reference.value
%}

{% if entry != blank %}
  <section class="sk-product-why-choose sk-product-why-choose-{{ section.id }}">
    <div class="page-width">
      {% if entry.heading.value != blank or entry.subheading.value != blank %}
        <div class="sk-section-header sk-section-header--left">
          {% if entry.heading.value != blank %}
            <h2 class="sk-section-heading sk-section-heading--h2 sk-heading-text--strong">
              {{ entry.heading.value | escape }}
            </h2>
          {% endif %}
          {% if entry.subheading.value != blank %}
            <p class="sk-section-header__subtitle sk-heading-text--soft">
              {{ entry.subheading.value | escape }}
            </p>
          {% endif %}
        </div>
      {% endif %}

      {% if entry.points != blank %}
        {% assign points = entry.points.value | default: blank %}
      {% else %}
        {% assign points = blank %}
      {% endif %}
      {% if points != blank %}
        <div class="sk-product-why-choose__points">
          {% for p in points limit: 3 %}
            {% if p.question.value != blank or p.point.value != blank %}
              <article class="sk-why-choose__point">
                <span class="sk-why-choose__point-number">
                  {{ forloop.index }}
                </span>

                {% if p.question.value != blank %}
                  <p class="sk-why-choose__point-question sk-heading-text--soft">
                    {{ p.question.value | escape }}
                  </p>
                {% endif %}

                {% if p.point.value != blank %}
                  <p class="sk-why-choose__point-copy sk-heading-text--strong">
                    {{ p.point.value | escape }}
                  </p>
                {% endif %}
              </article>
            {% endif %}
          {% endfor %}
        </div>
      {% endif %}

      {% assign image_obj = entry.image.value %}
      {% if image_obj != blank %}
        <div class="sk-why-choose__layout">
          <div class="sk-why-choose__image">
            <img
              src="{{ image_obj | image_url: width: 900 }}"
              loading="lazy"
              alt="{{ entry.heading.value | default: product.title | escape }}"
              width="900"
              height="900"
            >
          </div>
        </div>
      {% endif %}
    </div>
  </section>
{% endif %}

{% schema %}
{
  "name": "SK Product – Why Choose",
  "presets": [
    {
      "name": "SK Product – Why Choose"
    }
  ]
}
{% endschema %}
