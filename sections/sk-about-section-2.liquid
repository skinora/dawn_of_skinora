{%- style -%}
  /* Clamp overflow så accent/glow ikke lager horisontal scroll */
  .sk-about-section-2 {
    position: relative;
    overflow-x: hidden;
  }

  /* Optional container – ikke brukt i markup, men greit å ha */
  .sk-about-section-2__container {
    width: 100%;
    max-width: 140rem;
    margin: 0 auto;
    padding: 0 2rem;
  }

  /* Layout */
  .sk-about-section-2__content {
    display: flex;
    flex-wrap: wrap;
    gap: 80px;
    margin-top: 8rem;
    align-items: flex-end;
  }

  .sk-about-section-2__image-section {
    position: relative;
    flex: 1 1 320px;
  }

  .sk-about-section-2__image-wrapper {
    position: relative;
    max-width: clamp(300px, 45vw, 550px);
    margin: 0 auto;
    overflow: hidden; /* ensure inner visual elements don't visually overflow wrapper */
  }

  .sk-about-section-2__text-section {
    flex: 1 1 320px;
  }

  /* Typografi */
  .sk-about-section-2__subheading {
    font-size: var(--sk-font-size-small);
    font-weight: 400;
    color: rgb(var(--sk-color-subheader-text));
    display: inline-block;
    margin-bottom: 1rem;
  }

  /* Heading litt mindre + bedre line-height */
  .sk-about-section-2__heading {
    font-size: 72px;
    font-weight: 600;
    line-height: 1.05;
    color: rgb(var(--sk-color-heading-text));
    margin-bottom: 2.5rem;
    margin-top: 0;
    text-transform: uppercase;
  }

  /* Mer luft i tekst + kortere linjelengde */
  .sk-about-section-2__description {
    max-width: 640px;
  }

  .sk-about-section-2__description p {
    font-size: var(--sk-font-size-medium);
    line-height: 1.7;
    margin-top: 20px;
    margin-bottom: 3.5rem;
    color: rgb(var(--sk-color-body-text));
  }

  /* Button-wrapper */
  .sk-about-section-2__button-wrapper {
    margin-top: 3rem;
  }

  /* Brukes sammen med theme-knappen .sk-btn */
  .about-sec-2-btn {
    display: inline-flex;
    align-items: center;
    gap: 12px;
  }

  /* Accent image & glow */
  .sk-about-section-2__accent-image {
    position: absolute;
    top: -9rem;
    /* Adjust left: keep inside page-width; original -10rem caused overflow beyond container */
    left: 0;
    z-index: 4;
    width: 24rem;
    height: 24rem;
  }

  .sk-about-section-2__accent {
    width: 100%;
    height: auto;
    object-fit: contain;
  }

  .sk-about-section-2__glow-effect {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 40rem;
    height: 40rem;
    background: radial-gradient(
      circle,
      rgba(255, 165, 0, 0.3) 0%,
      rgba(255, 69, 0, 0.2) 50%,
      transparent 70%
    );
    border-radius: 50%;
    z-index: 1;
    animation: pulse-glow 3s ease-in-out infinite;
  }

  @keyframes pulse-glow {
    0%, 100% {
      transform: translate(-50%, -50%) scale(1);
      opacity: 0.6;
    }
    50% {
      transform: translate(-50%, -50%) scale(1.1);
      opacity: 0.8;
    }
  }

  /* Images */
  .sk-about-section-2__main-image img,
  .sk-about-section-2__image {
    width: 100%;
    height: auto;
    display: block;
  }

  /* Tablet og oppover */
  @media screen and (min-width: 750px) {
    .sk-about-section-2__heading {
      margin-bottom: 4rem;
    }

    .sk-about-section-2__glow-effect {
      width: 50rem;
      height: 50rem;
    }
  }

  /* Desktop */
  @media screen and (min-width: 990px) {
    .sk-about-section-2__text-section {
      flex: 0 0 500px;
    }

    /* Dra bildet litt til venstre for mer editorial følelse */
    .sk-about-section-2__image-wrapper {
      /* Remove transform shift to avoid horizontal overflow; optional subtle offset via internal padding */
      margin-left: 0;
    }

    @media (prefers-reduced-motion: no-preference) {
      .sk-about-section-2__accent-image {
        animation: float-reverse 4s ease-in-out infinite;
      }
    }

    @keyframes float-reverse {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(10px);
      }
    }
  }

  /* Mobil – stack layout og mindre heading */
  @media screen and (max-width: 749px) {
    .sk-about-section-2__content {
      flex-direction: column;
      gap: 40px;
      margin-top: 4rem;
      align-items: flex-start;
    }

    .sk-about-section-2__heading {
      font-size: 36px;
      line-height: 1.15;
    }

    .sk-about-section-2__accent-image {
      top: -4rem;
      left: 0;
      width: 18rem;
      height: 18rem;
    }

    .sk-about-section-2__glow-effect {
      width: 32rem;
      height: 32rem;
    }
  }

  /* Padding fra seksjonens innstillinger */
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }
{%- endstyle -%}

<div class="sk-about-section-2 section-{{ section.id }}-padding color-{{ section.settings.color_scheme }}">
  <div class="page-width">
    <div class="sk-about-section-2__content">
      <!-- IMAGE SECTION -->
      <div class="sk-about-section-2__image-section">
        <div class="sk-about-section-2__image-wrapper">
          {% if section.settings.main_image != blank %}
            <div class="sk-about-section-2__main-image{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}">
              <img
                srcset="
                  {% if section.settings.main_image.width >= 375 %}{{ section.settings.main_image | image_url: width: 375 }} 375w,{% endif %}
                  {% if section.settings.main_image.width >= 550 %}{{ section.settings.main_image | image_url: width: 550 }} 550w,{% endif %}
                  {% if section.settings.main_image.width >= 750 %}{{ section.settings.main_image | image_url: width: 750 }} 750w,{% endif %}
                  {{ section.settings.main_image | image_url }} {{ section.settings.main_image.width }}w
                "
                src="{{ section.settings.main_image | image_url: width: 550 }}"
                sizes="(min-width: 990px) 550px, (min-width: 750px) calc(50vw - 5rem), calc(100vw - 3rem)"
                alt="{{ section.settings.main_image.alt | escape }}"
                class="sk-about-section-2__image"
                width="{{ section.settings.main_image.width }}"
                height="{{ section.settings.main_image.height }}"
                loading="eager"
              >
            </div>
          {% endif %}

          {% if section.settings.accent_image != blank %}
            <div class="sk-about-section-2__accent-image{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--fade-in{% endif %}">
              <img
                srcset="
                  {% if section.settings.accent_image.width >= 200 %}{{ section.settings.accent_image | image_url: width: 200 }} 200w,{% endif %}
                  {% if section.settings.accent_image.width >= 300 %}{{ section.settings.accent_image | image_url: width: 300 }} 300w,{% endif %}
                  {% if section.settings.accent_image.width >= 400 %}{{ section.settings.accent_image | image_url: width: 400 }} 400w,{% endif %}
                  {{ section.settings.accent_image | image_url }} {{ section.settings.accent_image.width }}w
                "
                src="{{ section.settings.accent_image | image_url: width: 300 }}"
                sizes="300px"
                alt="{{ section.settings.accent_image.alt | escape }}"
                class="sk-about-section-2__accent"
                width="{{ section.settings.accent_image.width }}"
                height="{{ section.settings.accent_image.height }}"
                loading="eager"
              >
            </div>
          {% endif %}

          {% if section.settings.show_glow_effect %}
            <div class="sk-about-section-2__glow-effect"></div>
          {% endif %}
        </div>
      </div>

      <!-- TEXT SECTION -->
      <div class="sk-about-section-2__text-section">
        {% if section.settings.heading != blank %}
          <h2 class="sk-header__section sk-about-section-2__heading sk-section-heading sk-section-heading--hxl{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--fade-in{% endif %}">
            {{ section.settings.heading | escape }}
          </h2>
        {% endif %}

        {% if section.settings.subheading != blank %}
          <span class="sk-about-section-2__subheading{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--fade-in{% endif %}">
            {{ section.settings.subheading | escape }}
          </span>
        {% endif %}

        {% if section.settings.description != blank %}
          <div class="sk-about-section-2__description{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}">
            {{ section.settings.description }}
          </div>
        {% endif %}

        {% if section.settings.button_label != blank %}
          <div class="sk-about-section-2__button-wrapper">
            <a href="{{ section.settings.button_link }}" class="sk-btn sk-btn--primary about-sec-2-btn">
              {{ section.settings.button_label }}
              <span class="svg-wrapper sk-btn__icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="23" height="29" viewBox="0 0 23 29" fill="none">
                  <path d="M22.1904 13.8521L21.5352 14.5132L22.1904 15.1763L9.02734 28.4858L6.39453 25.8247L15.6016 16.5142H0.499023V12.5142H15.6016L6.39453 3.20361L9.02734 0.541504L22.1904 13.8521Z" fill="white"/>
                </svg>
              </span>
            </a>
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "About Section 2",
  "tag": "section",
  "class": "section",
  "settings": [
    { "type": "text", "id": "subheading", "label": "Subheading", "default": "REFLECTION YOUR STYLE" },
    { "type": "text", "id": "heading", "label": "Main Heading", "default": "Clear skin here and now!" },
    { "type": "richtext", "id": "description", "label": "Description" },
    { "type": "text", "id": "button_label", "label": "Button Label", "default": "Take a Look" },
    { "type": "url", "id": "button_link", "label": "Button Link" },
    { "type": "image_picker", "id": "main_image", "label": "Main Image" },
    { "type": "image_picker", "id": "accent_image", "label": "Accent Image" },
    { "type": "checkbox", "id": "show_glow_effect", "label": "Show Glow Effect", "default": true },
    {
      "type": "select",
      "id": "color_scheme",
      "label": "Color Scheme",
      "options": [
        { "value": "accent-1", "label": "Accent 1" },
        { "value": "accent-2", "label": "Accent 2" },
        { "value": "background-1", "label": "Background 1" },
        { "value": "background-2", "label": "Background 2" },
        { "value": "inverse", "label": "Inverse" }
      ],
      "default": "background-1"
    },
    { "type": "header", "content": "Padding" },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 60,
      "label": "Top Padding"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 60,
      "label": "Bottom Padding"
    }
  ],
  "presets": [{ "name": "About Section 2" }]
}
{% endschema %}
