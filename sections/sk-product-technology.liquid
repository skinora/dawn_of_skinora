<style>
  .sk-product-technology-{{ section.id }} {
    background: #FFF9F5;
    padding: 7rem 0;
  }

  .sk-product-technology-{{ section.id }} .sk-technology__main-heading {
    font-size: 42px;
    line-height: 60px;
    font-weight: 700;
    color: #30273E;
    text-align: center;
    max-width: 800px;
    margin: 0 auto 60px;
  }

  .sk-product-technology-{{ section.id }} .sk-technology__container {
    display: flex;
    gap: 40px;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
  }

  .sk-product-technology-{{ section.id }} .sk-technology__left-image {
    flex: 0 0 auto;
    max-width: 400px;
  }

  .sk-product-technology-{{ section.id }} .sk-technology__left-image img {
    width: 100%;
    height: auto;
    display: block;
  }

  .sk-product-technology-{{ section.id }} .sk-technology__content {
    flex: 1;
    max-width: 500px;
    min-width: 300px;
  }

  .sk-product-technology-{{ section.id }} .sk-technology__content p {
    font-size: 16px;
    line-height: 1.6;
    color: #30273E;
    margin: 0 0 16px 0;
  }

  .sk-product-technology-{{ section.id }} .sk-technology__content h3,
  .sk-product-technology-{{ section.id }} .sk-technology__content h4 {
    font-size: 18px;
    font-weight: 600;
    color: #30273E;
    margin: 0 0 12px 0;
  }

  .sk-product-technology-{{ section.id }} .sk-technology__right-image {
    flex: 0 0 auto;
    max-width: 400px;
  }

  .sk-product-technology-{{ section.id }} .sk-technology__right-image img {
    width: 100%;
    height: auto;
    display: block;
  }
</style>

{%- liquid
  assign technology_heading = product.metafields.custom.technology_heading
  assign technology_left_image = product.metafields.custom.technology_left_image
  assign technology_content = product.metafields.custom.technology_content
  assign technology_right_image = product.metafields.custom.technology_right_image
-%}

{%- if technology_heading != blank
  or technology_left_image != blank
  or technology_content != blank
  or technology_right_image != blank
-%}
  <section class="sk-product-technology-{{ section.id }}">
    <div class="container">
      {%- comment -%} Main Heading {%- endcomment -%}
      {%- if technology_heading != blank -%}
        <h2 class="sk-technology__main-heading">
          {{ technology_heading }}
        </h2>
      {%- endif -%}

      <div class="sk-technology__container">
        {%- comment -%} Left Image (Diagram) {%- endcomment -%}
        {%- if technology_left_image != blank -%}
          <div class="sk-technology__left-image">
            <img
              src="{{ technology_left_image | image_url: width: 800 }}"
              alt="{{ technology_left_image.alt | default: 'Technology diagram' }}"
              width="800"
              height="auto"
              loading="lazy"
            >
          </div>
        {%- endif -%}

        {%- comment -%} Center Content {%- endcomment -%}
        {%- if technology_content != blank -%}
          <div class="sk-technology__content">
            {{ technology_content | metafield_tag }}
            {{ 'technology-arrow.svg' | inline_asset_content }}
          </div>
        {%- endif -%}

        {%- comment -%} Right Image (Before/After) {%- endcomment -%}
        {%- if technology_right_image != blank -%}
          <div class="sk-technology__right-image">
            <img
              src="{{ technology_right_image | image_url: width: 800 }}"
              alt="{{ technology_right_image.alt | default: 'Before and after comparison' }}"
              width="800"
              height="auto"
              loading="lazy"
            >
          </div>
        {%- endif -%}
      </div>
    </div>
  </section>
{%- endif -%}

{% schema %}
{
  "name": "SK Product Technology",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "Product-Specific Control"
    },
    {
      "type": "paragraph",
      "content": "This section displays technology explanation from product metafields. Add these 4 metafields to your product:"
    },
    {
      "type": "paragraph",
      "content": "1. 'custom.technology_heading' (Single line text) - Main heading at the top"
    },
    {
      "type": "paragraph",
      "content": "2. 'custom.technology_left_image' (File) - Left diagram showing wavelength visualization"
    },
    {
      "type": "paragraph",
      "content": "3. 'custom.technology_content' (Rich text) - Center text content explaining the technology"
    },
    {
      "type": "paragraph",
      "content": "4. 'custom.technology_right_image' (File) - Right before/after comparison image"
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "paragraph",
      "content": "The section displays: [Left Image] [Center Content] [Right Image] in a horizontal layout (stacks on mobile)"
    }
  ],
  "presets": [
    {
      "name": "SK Product Technology"
    }
  ]
}
{% endschema %}
