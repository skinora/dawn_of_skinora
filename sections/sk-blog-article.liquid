{{ 'section-sk-blog-article.css' | asset_url | stylesheet_tag }}

<div class="sk-blog-article section-{{ section.id }}-padding color-{{ section.settings.color_scheme }}">
  <div class="container">
    <div class="sk-blog-article__wrapper">
      {%- if section.settings.show_featured_image and article.image -%}
        <div class="sk-blog-article__featured-image">
          <img
            srcset="
              {%- if article.image.width >= 750 -%}{{ article.image | image_url: width: 750 }} 750w,{%- endif -%}
              {%- if article.image.width >= 1100 -%}{{ article.image | image_url: width: 1100 }} 1100w,{%- endif -%}
              {%- if article.image.width >= 1500 -%}{{ article.image | image_url: width: 1500 }} 1500w,{%- endif -%}
              {{ article.image | image_url }} {{ article.image.width }}w
            "
            src="{{ article.image | image_url: width: 1100 }}"
            sizes="(min-width: 1200px) 1100px, calc(100vw - 3rem)"
            alt="{{ article.image.alt | escape }}"
            class="sk-blog-article__image"
            width="{{ article.image.width }}"
            height="{{ article.image.height }}"
            loading="eager"
          >
        </div>
      {%- endif -%}

      <div class="sk-blog-article__content">
        <header class="sk-blog-article__header">
          <div class="sk-blog-article__meta">
            {%- if article.author != blank -%}
              <span class="sk-blog-article__author">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="17" viewBox="0 0 18 17" fill="none">
                  <path d="M9.08416 7.25C6.34097 7.25 5.78508 3.81 5.78508 3.81C5.4588 2.02 6.44973 0 9.0479 0C11.6582 0 12.6491 2.02 12.3228 3.81C12.3228 3.81 11.8273 7.25 9.08416 7.25ZM9.08416 9.82L12.3712 8C15.2594 8 17.8334 10.33 17.8334 12.53V15.02C17.8334 15.02 13.4225 16.15 9.08416 16.15C4.67331 16.15 0.334961 15.02 0.334961 15.02V12.53C0.334961 10.28 2.67936 8.05 5.73674 8.05L9.08416 9.82Z" fill="#9F9F9F"/>
                </svg>
                {{ article.author | escape }}
              </span>
            {%- endif -%}
            <time class="sk-blog-article__date" datetime="{{ article.published_at | date: '%Y-%m-%d' }}">
              <svg xmlns="http://www.w3.org/2000/svg" width="22" height="18" viewBox="0 0 22 18" fill="none">
                <path d="M0.985352 14.8333C0.985352 16.25 2.29451 17.3333 4.00648 17.3333H18.1051C19.8171 17.3333 21.1262 16.25 21.1262 14.8333V8.16663H0.985352V14.8333ZM18.1051 2.33329H16.091V1.49996C16.091 0.999959 15.6882 0.666626 15.084 0.666626C14.4797 0.666626 14.0769 0.999959 14.0769 1.49996V2.33329H8.03466V1.49996C8.03466 0.999959 7.63184 0.666626 7.02762 0.666626C6.42339 0.666626 6.02057 0.999959 6.02057 1.49996V2.33329H4.00648C2.29451 2.33329 0.985352 3.41663 0.985352 4.83329V6.49996H21.1262V4.83329C21.1262 3.41663 19.8171 2.33329 18.1051 2.33329Z" fill="#9F9F9F"/>
              </svg>
              {{ article.published_at | date: '%B %d, %Y' }}
            </time>
            {%- if article.tags.size > 0 -%}
              <div class="sk-blog-article__tags">
                {%- for tag in article.tags -%}
                  <span class="sk-blog-article__tag">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="19" viewBox="0 0 24 19" fill="none">
                      <path d="M12.0761 18.968C11.4356 18.97 10.8193 18.758 10.3674 18.382L0.896713 10.547C0.649793 10.3434 0.459245 10.0978 0.338232 9.82723C0.217219 9.55668 0.168626 9.26762 0.19581 8.98001L0.800036 2.41401C0.84178 1.93599 1.0907 1.48652 1.50101 1.14827C1.91133 0.810017 2.45544 0.60574 3.03326 0.573012L10.968 0.0730116C11.0308 0.0620116 11.0924 0.0620117 11.1553 0.0620117C11.7957 0.0620117 12.4084 0.272012 12.8592 0.648012L22.331 8.48201C22.5556 8.66774 22.7337 8.88825 22.8552 9.13096C22.9767 9.37366 23.0393 9.6338 23.0393 9.89651C23.0393 10.1592 22.9767 10.4194 22.8552 10.6621C22.7337 10.9048 22.5556 11.1253 22.331 11.311L13.7849 18.382C13.561 18.5683 13.2947 18.716 13.0014 18.8166C12.7081 18.9172 12.3936 18.9687 12.0761 18.968ZM6.94864 3.65401C6.5512 3.65411 6.15991 3.73531 5.80944 3.89042C5.45897 4.04554 5.16014 4.26978 4.93941 4.54329C4.71869 4.8168 4.58288 5.13113 4.54401 5.45845C4.50515 5.78576 4.56443 6.11595 4.71661 6.41978C4.86879 6.72361 5.10916 6.99169 5.41644 7.20029C5.72373 7.40888 6.08843 7.55155 6.47826 7.61565C6.86809 7.67976 7.271 7.66332 7.65132 7.56779C8.03163 7.47227 8.37761 7.30061 8.6586 7.06801L8.66706 7.06201L8.67552 7.05501L8.66585 7.06201C9.00179 6.78158 9.22989 6.42513 9.32141 6.03759C9.41292 5.65006 9.36377 5.24877 9.18013 4.88432C8.99649 4.51986 8.68658 4.20855 8.28947 3.98961C7.89236 3.77066 7.42582 3.65389 6.94864 3.65401Z" fill="#9F9F9F"/>
                    </svg>
                    {{ tag | escape }}
                  </span>
                {%- endfor -%}
              </div>
            {%- endif -%}
          </div>
          <h1 class="sk-blog-article__title">{{ article.title | escape }}</h1>
        </header>

        <div class="sk-blog-article__body">
          {{ article.content }}
        </div>

        {%- if section.blocks.size > 0 -%}
          <div class="sk-blog-article__custom-content">
            {%- for block in section.blocks -%}
              {%- case block.type -%}
                {%- when 'text_block' -%}
                  <div class="sk-blog-article__text-block" {{ block.shopify_attributes }}>
                    {%- if block.settings.heading != blank -%}
                      <h3 class="sk-blog-article__block-heading">{{ block.settings.heading | escape }}</h3>
                    {%- endif -%}
                    {%- if block.settings.content != blank -%}
                      <div class="sk-blog-article__block-content">{{ block.settings.content }}</div>
                    {%- endif -%}
                  </div>

                {%- when 'two_images_content' -%}
                  <div class="sk-blog-article__two-images-content" {{ block.shopify_attributes }}>
                    <div class="sk-blog-article__layout-wrapper">
                      {%- if block.settings.image_left != blank -%}
                        <div class="sk-blog-article__left-image">
                          <img
                            srcset="
                              {%- if block.settings.image_left.width >= 300 -%}{{ block.settings.image_left | image_url: width: 300 }} 300w,{%- endif -%}
                              {%- if block.settings.image_left.width >= 400 -%}{{ block.settings.image_left | image_url: width: 400 }} 400w,{%- endif -%}
                              {%- if block.settings.image_left.width >= 500 -%}{{ block.settings.image_left | image_url: width: 500 }} 500w,{%- endif -%}
                              {{ block.settings.image_left | image_url }} {{ block.settings.image_left.width }}w
                            "
                            src="{{ block.settings.image_left | image_url: width: 400 }}"
                            sizes="400px"
                            alt="{{ block.settings.image_left.alt | escape }}"
                            class="sk-blog-article__main-image"
                            width="445"
                            height="445"
                            loading="lazy"
                          >
                        </div>
                      {%- endif -%}

                      <div class="sk-blog-article__right-section">
                        <div class="sk-blog-article__right-images">
                          {%- if block.settings.image_right_1 != blank -%}
                            <div class="sk-blog-article__right-image-item">
                              <img
                                srcset="
                                  {%- if block.settings.image_right_1.width >= 200 -%}{{ block.settings.image_right_1 | image_url: width: 200 }} 200w,{%- endif -%}
                                  {%- if block.settings.image_right_1.width >= 300 -%}{{ block.settings.image_right_1 | image_url: width: 300 }} 300w,{%- endif -%}
                                  {%- if block.settings.image_right_1.width >= 400 -%}{{ block.settings.image_right_1 | image_url: width: 400 }} 400w,{%- endif -%}
                                  {{ block.settings.image_right_1 | image_url }} {{ block.settings.image_right_1.width }}w
                                "
                                src="{{ block.settings.image_right_1 | image_url: width: 300 }}"
                                sizes="300px"
                                alt="{{ block.settings.image_right_1.alt | escape }}"
                                class="sk-blog-article__right-image"
                                width="336"
                                height="191"
                                loading="lazy"
                              >
                            </div>
                          {%- endif -%}
                          {%- if block.settings.image_right_2 != blank -%}
                            <div class="sk-blog-article__right-image-item">
                              <img
                                srcset="
                                  {%- if block.settings.image_right_2.width >= 200 -%}{{ block.settings.image_right_2 | image_url: width: 200 }} 200w,{%- endif -%}
                                  {%- if block.settings.image_right_2.width >= 300 -%}{{ block.settings.image_right_2 | image_url: width: 300 }} 300w,{%- endif -%}
                                  {%- if block.settings.image_right_2.width >= 400 -%}{{ block.settings.image_right_2 | image_url: width: 400 }} 400w,{%- endif -%}
                                  {{ block.settings.image_right_2 | image_url }} {{ block.settings.image_right_2.width }}w
                                "
                                src="{{ block.settings.image_right_2 | image_url: width: 300 }}"
                                sizes="300px"
                                alt="{{ block.settings.image_right_2.alt | escape }}"
                                class="sk-blog-article__right-image"
                                width="336"
                                height="191"
                                loading="lazy"
                              >
                            </div>
                          {%- endif -%}
                        </div>

                        {%- if block.settings.content != blank -%}
                          <div class="sk-blog-article__right-content">
                            {{ block.settings.content }}
                          </div>
                        {%- endif -%}
                      </div>
                    </div>
                  </div>
              {%- endcase -%}
            {%- endfor -%}
          </div>
        {%- endif -%}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Blog Article",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "checkbox",
      "id": "show_featured_image",
      "label": "Show Featured Image",
      "default": true
    },
    {
      "type": "select",
      "id": "color_scheme",
      "options": [
        {
          "value": "accent-1",
          "label": "t:sections.all.colors.accent_1.label"
        },
        {
          "value": "accent-2",
          "label": "t:sections.all.colors.accent_2.label"
        },
        {
          "value": "background-1",
          "label": "t:sections.all.colors.background_1.label"
        },
        {
          "value": "background-2",
          "label": "t:sections.all.colors.background_2.label"
        },
        {
          "value": "inverse",
          "label": "t:sections.all.colors.inverse.label"
        }
      ],
      "default": "background-1",
      "label": "t:sections.all.colors.label"
    },
    {
      "type": "header",
      "content": "Section Padding"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding Top",
      "default": 60
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding Bottom",
      "default": 60
    }
  ],
  "blocks": [
    {
      "type": "text_block",
      "name": "Text Block",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Content"
        }
      ]
    },

    {
      "type": "two_images_content",
      "name": "Three Images + Content",
      "settings": [
        {
          "type": "image_picker",
          "id": "image_left",
          "label": "Main Left Image"
        },
        {
          "type": "image_picker",
          "id": "image_right_1",
          "label": "Right Image 1 (Top)"
        },
        {
          "type": "image_picker",
          "id": "image_right_2",
          "label": "Right Image 2 (Bottom)"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Content",
          "default": "<p>Healthy skin starts with balance and care, supported by innovations that make visible changes over time. Skinora Radiance is designed to help improve clarity.</p>"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Blog Article"
    }
  ]
}
{% endschema %}
